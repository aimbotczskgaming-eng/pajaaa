<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prekvapko</title>
    <style>
        /* --- STYLY STR√ÅNKY A POZAD√ç --- */
        body, html {
            height: 100%;
            width: 100%; 
            margin: 0;
            overflow: hidden;
            background: #000;
            font-family: 'Playfair Display', serif; /* Romantiƒçtƒõj≈°√≠ font */
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            /* Extra hlubok√©, sametov√© pozad√≠ */
            background: radial-gradient(ellipse at bottom, #11051f 0%, #000000 100%);
        }

        /* --- DEKORACE POZAD√ç (HVƒöZDY A JEMN√ù TEXT) --- */
        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            opacity: 0;
            animation: twinkle 40s infinite ease-in-out; /* Pomalej≈°√≠ blik√°n√≠ */
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); 
            z-index: 1;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 0.8; transform: scale(1); }
        }

        /* Nov√Ω romantick√Ω prvek: Textov√© pozad√≠ */
        .romantic-text-bg {
            position: absolute;
            font-size: 8em;
            color: rgba(255, 255, 255, 0.03); /* T√©mƒõ≈ô neviditeln√Ω, jen n√°dech */
            pointer-events: none;
            user-select: none;
            text-shadow: 0 0 10px rgba(255, 100, 150, 0.1);
            animation: slow-fade 30s infinite alternate ease-in-out;
            z-index: 2;
        }

        @keyframes slow-fade {
            0% { opacity: 0.03; transform: rotate(0deg); }
            100% { opacity: 0.05; transform: rotate(5deg); }
        }


        /* --- PRELOADER --- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 2s ease-in-out;
        }
        .loader-heart {
            font-size: 10em;
            animation: preloader-pulse 1.2s infinite alternate cubic-bezier(0.4, 0, 0.6, 1); /* Pomalej≈°√≠ pulz */
            color: #ff005c;
            text-shadow: 0 0 50px #ff005c, 0 0 100px #ff005c;
        }
        .loader-text {
            margin-top: 50px;
            font-size: 2.2em;
            color: #ddd;
            letter-spacing: 8px;
            opacity: 0;
            animation: text-fade-in 1s forwards 2.5s;
        }
        @keyframes text-fade-in {
            to { opacity: 1; }
        }

        /* --- HLAVN√ç OBSAH --- */
        #main-content {
            display: none;
            width: 100%; 
            height: 100%;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        /* Kontejner pro GOOEY ANIMACI */
        .particles-wrapper {
            position: relative;
            width: 650px; 
            height: 650px;
            filter: url('#goo');
            opacity: 0; 
            transition: opacity 4s ease-in 1s; /* Pomal√© zjeven√≠ srdce */
            border-radius: 50%;
            transform-origin: center center;
            transform: scale(1);
            /* V√çCEVRSTV√Å NEONOV√Å Z√Å≈òE A PLAZMA */
            box-shadow: 
                0 0 60px rgba(255, 50, 120, 0.5), /* Mƒõkƒç√≠, teplej≈°√≠ t√≥n */
                0 0 120px rgba(255, 50, 120, 0.3),
                0 0 180px rgba(255, 50, 120, 0.15); 
            background: radial-gradient(circle, rgba(255, 50, 120, 0.1) 0%, rgba(255, 50, 120, 0) 70%); 
        }
        
        /* ƒå√°stice (kuliƒçky) */
        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); 
        }
        
        /* 1. SADA: Stabilizaƒçn√≠ j√°dro */
        .p-main {
            width: 48px; /* Vƒõt≈°√≠ j√°dro */
            height: 48px;
            background: rgba(255, 70, 130, 0.7); 
            box-shadow: 0 0 20px #ff3366, 0 0 40px #ff3366; 
        }

        /* 2. SADA: Dynamick√Ω tok (Rytmus) */
        .p-wobble {
            width: 35px; /* Vƒõt≈°√≠ vlnƒõn√≠ */
            height: 35px;
            background: #ff5599; 
            box-shadow: 0 0 15px #ff5599, 0 0 30px rgba(255, 85, 153, 0.6);
        }

        /* 3. SADA: Zlat√© Jiskry L√°sky (Romantick√Ω prvek) */
        .p-trail {
            width: 18px; 
            height: 18px;
            background: #ffecb3; /* Zlatav√Ω/Svƒõtle ≈ælut√Ω t√≥n */
            box-shadow: 0 0 15px #ffcc00, 0 0 30px #ff5599; /* Zlat√Ω st≈ôed, r≈Ø≈æov√Ω/tepl√Ω okraj */
            opacity: 0;
            transition: opacity 1s ease-out; /* Je≈°tƒõ pomalej≈°√≠ mizen√≠ */
        }

        /* Text pod animac√≠ */
        .text {
            font-size: 6em; /* Vƒõt≈°√≠ a impozantnƒõj≈°√≠ */
            font-weight: 900;
            text-align: center;
            margin-top: 100px;
            letter-spacing: 15px; /* Vƒõt≈°√≠ mezery pro eleganci */
            text-shadow: 0 0 60px #ff3366, 0 0 120px #ff3366, 0 0 200px rgba(255, 51, 102, 0.4);
            animation: text-float 12s infinite alternate ease-in-out; /* Extr√©mnƒõ pomal√Ω a snov√Ω float */
            opacity: 0;
            transition: opacity 3s ease-in 4s;
        }

        @keyframes text-float {
            from { transform: translateY(0) scale(1); }
            to { transform: translateY(-30px) scale(1.04); } /* V√Ωraznƒõj≈°√≠ floating efekt */
        }
    </style>
</head>
<body>

    <svg style="display: none;">
      <defs>
        <filter id="goo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="blur" /> 
          <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 50 -25" result="goo" /> 
          <feComposite in="SourceGraphic" in2="goo" operator="atop"/>
        </filter>
      </defs>
    </svg>

    <div id="romantic-bg-text-container"></div>

    <div id="preloader">
        <div class="loader-heart">üíñ</div>
        <div class="loader-text">Pro tebe Pajo, nic moc ale neva...</div>
    </div>
    
    <div id="main-content">
        <div class="particles-wrapper" id="particles-wrapper"></div>
        <div class="text" id="main-text">Miluju tƒõ Zlato</div>
    </div>

    <script>
        // --- JAVASCRIPT ---

        // --- KONSTANTY A NASTAVEN√ç ---
        const preloader = document.getElementById('preloader');
        const mainContent = document.getElementById('main-content');
        const wrapper = document.getElementById('particles-wrapper');
        const mainText = document.getElementById('main-text');
        const bgTextContainer = document.getElementById('romantic-bg-text-container');

        const particleCountMain = 380; // V√≠ce stabilizaƒçn√≠ch ƒç√°stic
        const particleCountWobble = 170;
        const particleCountTrail = 150; // V√≠ce zlat√Ωch jisker
        const particles = [];
        const animationScale = 27; 

        // --- KOMPENZACE POSUNU ---
        const offsetY = 110; 

        // --- ROMANTICK√ù TEXT NA POZAD√ç (Nov√Ω prvek) ---
        function createRomanticTextBG() {
            const phrases = ["Love", "Forever", "Heart", "Dreams", "Soulmate", "You & Me"];
            const numPhrases = 6;
            for (let i = 0; i < numPhrases; i++) {
                const textEl = document.createElement('div');
                textEl.classList.add('romantic-text-bg');
                textEl.textContent = phrases[i];
                textEl.style.top = `${Math.random() * 80 + 10}vh`;
                textEl.style.left = `${Math.random() * 80 + 10}vw`;
                textEl.style.animationDelay = `${i * 5}s`;
                bgTextContainer.appendChild(textEl);
            }
        }
        createRomanticTextBG();


        // --- FUNKCE PRO GENER√ÅTOR POZAD√ç (HVƒöZDY) ---
        function createStars() {
            const numStars = 200; // V√≠ce hvƒõzd
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                const size = Math.random() * 5 + 1;
                star.style.width = star.style.height = `${size}px`;
                star.style.top = `${Math.random() * 100}vh`;
                star.style.left = `${Math.random() * 100}vw`;
                star.style.animationDelay = `${Math.random() * 40}s`;
                document.body.appendChild(star);
            }
        }
        createStars();


        // --- FUNKCE PRO GOOEY SRDCE (ROVNICE) ---
        function getHeartPoint(angle) {
            const t = angle;
            const x = animationScale * (16 * Math.pow(Math.sin(t), 3));
            const y = -animationScale * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            return { x, y };
        }

        // --- GENER√ÅTOR ƒå√ÅSTIC ---
        function generateParticles(count, className, speedFactor, radiusFactor, isTrail = false) {
            for (let i = 0; i < count; i++) {
                const particleEl = document.createElement('div');
                particleEl.classList.add('particle', className);
                wrapper.appendChild(particleEl);
                
                particles.push({
                    element: particleEl,
                    angle: (i / count) * (2 * Math.PI),
                    // EXTR√âMNƒö SN√ç≈ΩEN√Å Z√ÅKLADN√ç RYCHLOST PRO SNIV√ù EFEKT
                    speed: (Math.random() * 0.0002 + 0.00005) * speedFactor, 
                    radius: (Math.random() * 5 + 3) * radiusFactor, 
                    // SN√ç≈ΩEN√Å RYCHLOST CHAOSU
                    wobbleSpeed: (Math.random() * 0.01 + 0.005) * speedFactor, 
                    isTrail: isTrail,
                    trailLife: Math.random() * 120 + 80, // Del≈°√≠ ≈æivotnost trailu
                    currentLife: 0,
                    initialOpacity: isTrail ? 0.9 : 1
                });
            }
        }

        // 1. Tvarov√© j√°dro
        generateParticles(particleCountMain, 'p-main', 0.1, 0.5); 
        // 2. Dynamick√Ω tok
        generateParticles(particleCountWobble, 'p-wobble', 0.5, 1.0); // Zpomaleno na 0.5
        // 3. Zlat√© Jiskry
        generateParticles(particleCountTrail, 'p-trail', 1.0, 1.5, true); // Zpomaleno na 1.0


        // --- PRELOADER A SEKVENCOV√ÅN√ç ---
        setTimeout(() => {
            preloader.style.opacity = '0';
            
            setTimeout(() => {
                preloader.style.display = 'none';
                mainContent.style.display = 'flex';
                
                wrapper.style.opacity = '1';
                mainText.style.opacity = '1';
                
                animate();

                particles.forEach((p, index) => {
                    setTimeout(() => {
                        p.element.style.opacity = p.initialOpacity;
                    }, index * 3);
                });

            }, 3000); // Del≈°√≠ p≈ôechod 
        }, 6000); // Del≈°√≠ preloader


        // --- ANIMAƒåN√ç SMYƒåKA ---
        let time = 0;
        let pulseTime = 0;
        let innerPulseTime = 0; 

        function animate() {
            time += 0.002; // Extr√©mnƒõ pomal√Ω hlavn√≠ ƒças
            pulseTime += 0.005; // Pomal√Ω pulz velikosti
            innerPulseTime += 0.01; // Pomal√Ω pulz intenzity

            
            // 1. Pulz pro velikost cel√©ho srdce (jemn√Ω)
            const scale = 1 + Math.sin(pulseTime) * 0.015; /* Sn√≠≈æen√° intenzita pulzu */
            wrapper.style.transform = `scale(${scale})`;


            // 2. Pulz pro barvu a intenzitu (vizu√°lnƒõj≈°√≠ "dech")
            const colorIntensity = 0.5 + Math.sin(innerPulseTime) * 0.5;
            const innerGlow = Math.min(1, colorIntensity * 2);
            const mainColor = `rgba(255, 50, 120, ${0.4 * innerGlow})`;
            
            wrapper.style.boxShadow = `
                0 0 60px ${mainColor},
                0 0 120px rgba(255, 50, 120, ${0.3 * innerGlow}),
                0 0 180px rgba(255, 50, 120, ${0.15 * innerGlow})`;
            
            mainText.style.textShadow = `
                0 0 60px rgba(255, 51, 102, ${innerGlow}), 
                0 0 120px rgba(255, 51, 102, ${0.5 * innerGlow}), 
                0 0 200px rgba(255, 51, 102, ${0.2 * innerGlow})`;


            particles.forEach(p => {
                p.angle += p.speed;

                const basePoint = getHeartPoint(p.angle);

                const wobbleX = p.radius * Math.cos(p.angle * 2 + time * p.wobbleSpeed);
                const wobbleY = p.radius * Math.sin(p.angle * 2 + time * p.wobbleSpeed);

                const finalX = basePoint.x + wobbleX;
                const finalY = basePoint.y + wobbleY + offsetY;
                
                p.element.style.transform = `translate(${finalX}px, ${finalY}px)`;
                
                // Logika pro Trail ƒç√°stice (Jiskry)
                if (p.isTrail) {
                    p.currentLife++;
                    // Zmizen√≠ a resetov√°n√≠
                    if (p.currentLife > p.trailLife) {
                        p.currentLife = 0;
                        p.angle = Math.random() * (2 * Math.PI); 
                        p.element.style.opacity = p.initialOpacity; 
                    } else {
                        // Postupn√© sni≈æov√°n√≠ opacity
                        p.element.style.opacity = (p.initialOpacity * (1 - p.currentLife / p.trailLife));
                    }
                }
            });

            requestAnimationFrame(animate);
        }
    </script>
</body>
</html>